3:I[9275,[],""]
5:I[1343,[],""]
4:["locale","fr","d"]
0:["_R3P2gB6iFUAy-mCnzydw",[[["",{"children":[["locale","fr","d"],{"children":["(routes)",{"children":["blog",{"children":["(articles)",{"children":["(2024)",{"children":["(06)",{"children":["trailing-nginx",{"children":["__PAGE__?{\"locale\":\"fr\"}",{}]}]}]}]}]}]}]}]},"$undefined","$undefined",true],["",{"children":[["locale","fr","d"],{"children":["(routes)",{"children":["blog",{"children":["(articles)",{"children":["(2024)",{"children":["(06)",{"children":["trailing-nginx",{"children":["__PAGE__",{},[["$L1","$L2"],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","(routes)","children","blog","children","(articles)","children","(2024)","children","(06)","children","trailing-nginx","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","(routes)","children","blog","children","(articles)","children","(2024)","children","(06)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","(routes)","children","blog","children","(articles)","children","(2024)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},[["$","article",null,{"className":"px-5 md:px-10 pb-10 pt-20 print:pt-10 min-h-[100svh] max-w-screen-lg flex-col items-center justify-center break-words text-lg blog-post w-[min(100%,1024px)] inline","children":["$","div",null,{"className":"w-full","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","(routes)","children","blog","children","(articles)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}]}],null],null]},[["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","(routes)","children","blog","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/2979430dd6a52a33.css","precedence":"next","crossOrigin":"$undefined"}]]}],null],null]},["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children","(routes)","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}],null]},["$L6",null],null]},[["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[],"styles":[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/85580e4a45e704bc.css","precedence":"next","crossOrigin":"$undefined"}]]}],null],null],[null,[null,"$L7"]]]]]
8:I[8173,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","158","static/chunks/158-9999b82bb93017b5.js","830","static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js"],"Image"]
c:I[231,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","158","static/chunks/158-9999b82bb93017b5.js","830","static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js"],""]
d:I[23,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","158","static/chunks/158-9999b82bb93017b5.js","830","static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js"],"ScrollArea"]
e:I[23,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","158","static/chunks/158-9999b82bb93017b5.js","830","static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js"],"ScrollBar"]
f:I[4858,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"ThemeProvider"]
10:I[6498,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"default"]
11:I[9877,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"default"]
12:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenu"]
13:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuTrigger"]
14:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuContent"]
15:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuLabel"]
16:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuGroup"]
1a:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuSeparator"]
1b:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuSub"]
1c:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuSubTrigger"]
1d:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuPortal"]
1e:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuSubContent"]
1f:I[4940,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"default"]
20:I[2132,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"default"]
21:I[7100,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"Toaster"]
2:[[["$","div",null,{"className":"absolute print:hidden top-20 left-1/2 -translate-x-1/2 w-[min(72rem,100%)] h-[min(38rem,100vw)] -z-20 overflow-y-hidden flex justify-center pt-16 items-start xl:pt-0 xl:items-end","children":["$","$L8",null,{"className":"w-[min(75rem,98%)] lg:w-[min(75rem,90%)] h-auto max-w-[1200px] max-h-[630px] -z-20 rounded-3xl blur-md dark:blur-xl","src":{"src":"/_next/static/media/trailing-nginx.da548878.png","height":1260,"width":2400,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAU0lEQVR42j2LSRKAIAwE/f/7XEpvLiQGEEL0nIhW6dx6urqxb5CAmH5sVLXIySwYPAbKuYhc9XzEvLi2HwEDoO+GqaLqW4SY1s3FI2cWQNrJm9kN1d1aVDm0CvQAAAAASUVORK5CYII=","blurWidth":8,"blurHeight":4},"alt":"Barres obliques de fin & nginx","placeholder":"blur"}]}],["$","div",null,{"className":"absolute top-20 left-1/2 -translate-x-1/2 w-[min(72rem,100%)] h-[min(39rem,100vw)] -z-10 bg-gradient-to-t from-background via-background via-30% md:via-20% lg:via-5% xl:via-0% to-background/50"}],[["$","div",null,{"className":"mb-10 mt-2 print:hidden","children":"$L9"}],["$","div",null,{"className":"","children":["$","h1",null,{"className":"scroll-mt-24 text-4xl lg:text-5xl font-extrabold tracking-tight break-words group/link","children":"Barres obliques de fin & nginx"}]}],["$","div",null,{"className":"mt-2 mb-10 flex flex-row justify-between text-base","children":[["$","div",null,{"className":"","children":["$","p",null,{"className":"leading-7 break-words mt-0","children":"5 juin 2024"}]}],["$","div",null,{"className":"flex flex-row items-end gap-2","children":["$La","$Lb"]}]]}]]],[["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Lorsque vous utilisez nginx et que vous diffusez du code HTML brut,\nvous pouvez rencontrer un problème courant : l'URI doit se comporter\nd'une manière spécifique que vous avez définie.\nSinon, votre site risque de ne pas fonctionner correctement\nou même de renvoyer un écran d'erreur à l'utilisateur."}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Par exemple, vous avez réalisé une\n",["$","$Lc",null,{"href":"https://nextjs.org/docs/app/building-your-application/deploying/static-exports","target":"_blank","prefetch":true,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":"exportation statique avec Next.js"}],"\navec un paramètre \"pas de barre oblique de fin\", de sorte que vos utilisateurs\nsont censés accéder à \"/page\". Ainsi, vous diffuserez votre site avec\ncette directive nginx : ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"try_files $uri $uri.html $uri/ =404;"}],"."]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Et du coup, l'accès à \"/page/\" renverra une erreur 404 à l'utilisateur !"}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Bien sûr, nous devons le corriger. Laissez-moi vous expliquer comment."}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["$","em",null,{"children":"(Oui. J'ai vraiment écrit un article entier à ce sujet.\nAprès tout, vous pouvez apprendre la regex avec moi !)"}]}]}],"\n",["$","div",null,{"className":"","children":["$","h2",null,{"id":"sommaire","className":"mt-10 scroll-mt-24 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link","children":["Sommaire",["$","$Lc",null,{"aria-hidden":"true","tabIndex":"-1","href":"#sommaire","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":["$","span",null,{"className":"icon icon-link"}]}]]}]}],"\n",["$","ul",null,{"children":["\n",["$","div",null,{"className":"","children":["$","li",null,{"children":["$","$Lc",null,{"href":"#il-faut-de-barres-obliques-de-fin","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":"Il faut de barres obliques de fin"}]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":["$","$Lc",null,{"href":"#il-faut-pas-de-barres-obliques-de-fin","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":"Il faut pas de barres obliques de fin"}]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":["$","$Lc",null,{"href":"#apache","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":"Apache"}]}]}],"\n"]}],"\n",["$","div",null,{"className":"","children":["$","h2",null,{"id":"il-faut-de-barres-obliques-de-fin","className":"mt-10 scroll-mt-24 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link","children":["Il faut de barres obliques de fin",["$","$Lc",null,{"aria-hidden":"true","tabIndex":"-1","href":"#il-faut-de-barres-obliques-de-fin","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":["$","span",null,{"className":"icon icon-link"}]}]]}]}],"\n",[["$","div",null,{"className":"w-full flex items-center justify-start","children":["$","$L8",null,{"src":{"src":"/_next/static/media/noslash-to-slash.70f1222e.png","height":800,"width":2400,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAP0lEQVR42j2JWwrAIBADvf/5WsFPbbfFK6zZrA/EQEKGCSTNbO7KwTCai9wxyVfL+18x5UdIn6IBqgoY9oG7dyJoRRb0MU2HAAAAAElFTkSuQmCC","blurWidth":8,"blurHeight":3},"alt":"URI Noslash à Slash","width":600,"className":"mt-6"}]}],["$","div",null,{"className":"text-center","children":"$undefined"}]],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Pour forcer les URI à se terminer par une barre oblique dans nginx, utilisez cette redirection :"}]}],"\n",["$","div",null,{"className":"","children":["$","$Ld",null,{"className":"mt-6 w-full border border-border rounded-md","children":[["$","pre",null,{"children":["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap hljs language-ini","children":[["$","span",null,{"className":"hljs-comment","children":"# Rediriger les barres obliques de fin (exmpl. \".../page\" -> \".../page/\")"}],"\nlocation ~ ^(.+",["$","span",null,{"className":"hljs-section","children":"[^/]"}],")$ {\n    return 301 $scheme://$host$1/",["$","span",null,{"className":"hljs-comment","children":";"}],"\n}\n"]}]}],["$","$Le",null,{"orientation":"horizontal"}]]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Celui-ci capture toutes les URI correspondant à l'expression régulière ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"^(.+[^/])$"}],"\n(cela semble incompréhensible mais je vais vous l'expliquer) :"]}]}],"\n",["$","ul",null,{"children":["\n",["$","div",null,{"className":"","children":["$","li",null,{"children":[["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"^"}]," et ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"$$"}]," signifient le début et la fin de l'URI ;"]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":[["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"()"}],", ou simplement des parenthèses, signifient capturer la valeur à\nl'intérieur dans un \"groupe regex\". Comme il s'agit du premier (et le seul) groupe,\nil est accessible dans nginx via ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"$$1"}],";"]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":[["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":".+"}]," signifie une séquence de n'importe quel caractère et de n'importe quelle longueur\n(presque l'URI entière disons) ;"]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":["et ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"[^/]"}]," s'agit de tout autre caractère qui n'est pas une barre oblique. Dans nginx,\nvous n'avez pas besoin de l'échapper comme ceci : ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"[^\\/]"}],"."]}]}],"\n"]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["De cette façon, toutes les demandes d'URI ne se terminant pas par une barre oblique entreront\net exécuteront ainsi la directive \"return 301\", indiquant effectivement au client que\nla page réside sur une autre URL (avec un URI d'origine récupéré de l'expression régulière\nen tant que groupe 1 ou ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"$$1"}]," + une barre oblique ajoutée à la fin)."]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Je vous rappelle que c'est à vous de gérer les routes de votre serveur web !\nNotamment la racine, le ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"/"}],". Vous pouvez configurer cette regex selon vos besoins\n(comme utiliser ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":".*"}]," au lieu de ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":".+"}]," pour également capturer le cas où il n'y a rien\nà gauche de la barre. Là encore, c'est à vous d'aller essayer)."]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Cette technique est basée sur la redirection.\nVous pouvez utiliser la directive \"rewrite\" à la place (trouvée en ligne ailleurs).\nJe vous donne juste l'exemple de ce qui me semble le plus correct."}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Maintenant, accéder à \"/page\" nous amènera à \"/page/\".\nAccéder directement à \"/page/\" ne fera rien d'autre et la page sera simplement chargée."}]}],"\n",["$","div",null,{"className":"","children":["$","h2",null,{"id":"il-faut-pas-de-barres-obliques-de-fin","className":"mt-10 scroll-mt-24 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link","children":["Il faut pas de barres obliques de fin",["$","$Lc",null,{"aria-hidden":"true","tabIndex":"-1","href":"#il-faut-pas-de-barres-obliques-de-fin","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":["$","span",null,{"className":"icon icon-link"}]}]]}]}],"\n",[["$","div",null,{"className":"w-full flex items-center justify-start","children":["$","$L8",null,{"src":{"src":"/_next/static/media/slash-to-noslash.53756b34.png","height":800,"width":2400,"blurDataURL":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAP0lEQVR42mP49+/f37//QCQE/IMCBiB++OjplWs3Hz95/uz56xu37t699xAq8fv3n58/f/4Bgb+/QOD3////ASMWRRKaKnR6AAAAAElFTkSuQmCC","blurWidth":8,"blurHeight":3},"alt":"URI Slash à Noslash","width":600,"className":"mt-6"}]}],["$","div",null,{"className":"text-center","children":"$undefined"}]],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Afin de forcer les URL à ",["$","strong",null,{"children":"ne pas"}]," se terminer par une barre oblique dans nginx, utilisez cette redirection :"]}]}],"\n",["$","div",null,{"className":"","children":["$","$Ld",null,{"className":"mt-6 w-full border border-border rounded-md","children":[["$","pre",null,{"children":["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap hljs language-ini","children":[["$","span",null,{"className":"hljs-comment","children":"# Rediriger les barres obliques de fin (exmpl. \".../page/\" -> \".../page\")"}],"\nlocation ~ ^(.+)/$ {\n    return 301 $scheme://$host$1",["$","span",null,{"className":"hljs-comment","children":";"}],"\n}\n"]}]}],["$","$Le",null,{"orientation":"horizontal"}]]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Celui-ci capture tous les URI correspondant à l'expression régulière ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"^(.+)/$"}]," :"]}]}],"\n",["$","ul",null,{"children":["\n",["$","div",null,{"className":"","children":["$","li",null,{"children":[["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"^"}]," et ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"$$"}]," signifient le début et la fin de l'URI ;"]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":[["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"(.+)"}]," signifie une séquence de n'importe quel caractère et de n'importe quelle longueur\n(presque l'URI entière, disons). En mettant un point (n'importe quel caractère) et un plus\n(n'importe quelle longueur à partir de 1) entre parenthèses, nous capturons cette valeur\ncomme groupe regex 1 ou ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"$$1"}]," dans nginx ;"]}]}],"\n",["$","div",null,{"className":"","children":["$","li",null,{"children":["et ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"/"}]," s'agit de la barre oblique à la fin de la chaîne que nous recherchons. Dans nginx,\nvous n'avez pas besoin de l'échapper comme ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"\\/"}],". Notez comment elle se trouve\nen dehors des parenthèses. Elle ne fait pas partie du groupe 1."]}]}],"\n"]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["De cette façon, toutes les demandes d'URI se terminant par une barre oblique\nentreront et exécuteront ainsi la directive \"return 301\", indiquant effectivement au client que\nla page réside sur une autre URL (avec un URI ne contenant pas de barre oblique extraite de\nl'expression régulière en tant que groupe 1 ou ",["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap","children":"$$1"}],")."]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Ainsi, votre bloc de serveur final pourrait ressembler à :"}]}],"\n",["$","div",null,{"className":"","children":["$","$Ld",null,{"className":"mt-6 w-full border border-border rounded-md","children":[["$","pre",null,{"children":["$","code",null,{"className":"bg-border rounded px-1 print:text-wrap hljs language-ini","children":["...\nroot /var/www/html/",["$","span",null,{"className":"hljs-comment","children":";"}],"\nindex index.html",["$","span",null,{"className":"hljs-comment","children":";"}],"\n\n",["$","span",null,{"className":"hljs-comment","children":"# Rediriger les barres obliques de fin (exmpl. \".../page/\" -> \".../page\")"}],"\nlocation ~ ^(.+)/$ {\n    return 301 $scheme://$host$1",["$","span",null,{"className":"hljs-comment","children":";"}],"\n}\n\nlocation / {\n    try_files $uri $uri.html $uri/ =404",["$","span",null,{"className":"hljs-comment","children":";"}],"\n}\n...\n"]}]}],["$","$Le",null,{"orientation":"horizontal"}]]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Et maintenant, accéder à \"/page\" ne fera rien et chargera simplement la page.\nAccéder à \"/page/\" nous amènera à \"/page\", évitant ainsi, par exemple, l'erreur 404 dont j'ai parlé dans l'intro."}]}],"\n",["$","div",null,{"className":"","children":["$","h2",null,{"id":"apache","className":"mt-10 scroll-mt-24 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link","children":["Apache",["$","$Lc",null,{"aria-hidden":"true","tabIndex":"-1","href":"#apache","target":"_self","prefetch":false,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":["$","span",null,{"className":"icon icon-link"}]}]]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Désolé, il n'y aura pas de guide Apache car je n'en ai pas l'expérience.\nCependant, si vous en avez, vous pouvez contribuer ici en\n",["$","$Lc",null,{"href":"mailto:contact@hammerill.com","target":"_blank","prefetch":true,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":"m'envoyant un e-mail"}],"."]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":["Ah, avez-vous vu mon ",["$","$Lc",null,{"href":"https://hammerill.com/fr/secret","target":"_blank","prefetch":true,"className":"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2","children":"secret"}]," ?"]}]}],"\n",["$","div",null,{"className":"","children":["$","p",null,{"className":"mt-6 leading-7 break-words","children":"Salut !"}]}]]]
6:["$","html",null,{"lang":"fr","children":["$","body",null,{"className":"__className_423598 overflow-x-hidden","children":["$","$Lf",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"children":["$","$L10",null,{"children":[["$","$L11",null,{"navHome":"Accueil","navBlog":"Blog","navContact":"Contact"}],["$","$L12",null,{"children":[["$","$L13",null,{"asChild":true,"children":["$","button",null,{"className":"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 fixed left-0 top-0 z-50 translate-x-5 translate-y-5 print:hidden","children":["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-menu h-4 w-4","children":[["$","line","1e0a9i",{"x1":"4","x2":"20","y1":"12","y2":"12"}],["$","line","1owob3",{"x1":"4","x2":"20","y1":"6","y2":"6"}],["$","line","yk5zj1",{"x1":"4","x2":"20","y1":"18","y2":"18"}],"$undefined"]}]}]}],["$","$L14",null,{"className":"w-56 mx-5 my-4","children":[["$","$L15",null,{"children":"Navigation"}],["$","$L16",null,{"children":["$L17","$L18","$L19"]}],["$","$L1a",null,{}],["$","$L15",null,{"children":"Paramètres"}],["$","$L16",null,{"children":[["$","$L1b",null,{"children":[["$","$L1c",null,{"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-sun mr-2 h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0","children":[["$","circle","4exip2",{"cx":"12","cy":"12","r":"4"}],["$","path","tus03m",{"d":"M12 2v2"}],["$","path","1lh1kg",{"d":"M12 20v2"}],["$","path","149t6j",{"d":"m4.93 4.93 1.41 1.41"}],["$","path","ptbguv",{"d":"m17.66 17.66 1.41 1.41"}],["$","path","1t8f8n",{"d":"M2 12h2"}],["$","path","1q8mjw",{"d":"M20 12h2"}],["$","path","1m8zz5",{"d":"m6.34 17.66-1.41 1.41"}],["$","path","1shlcs",{"d":"m19.07 4.93-1.41 1.41"}],"$undefined"]}],["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-moon absolute mr-2 h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100","children":[["$","path","a7tn18",{"d":"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z"}],"$undefined"]}],["$","span",null,{"children":"Mode"}]]}],["$","$L1d",null,{"children":["$","$L1e",null,{"children":[["$","$L1f",null,{"theme":"light","children":"Claire"}],["$","$L1f",null,{"theme":"dark","children":"Sombre"}],["$","$L1f",null,{"theme":"system","children":"Système"}]]}]}]]}],["$","$L1b",null,{"children":[["$","$L1c",null,{"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-languages mr-2 h-4 w-4","children":[["$","path","1wu5hv",{"d":"m5 8 6 6"}],["$","path","1k1g8d",{"d":"m4 14 6-6 2-3"}],["$","path","or177f",{"d":"M2 5h12"}],["$","path","1t2jsx",{"d":"M7 2h1"}],["$","path","don7ne",{"d":"m22 22-5-10-5 10"}],["$","path","1m8k6r",{"d":"M14 18h6"}],"$undefined"]}],["$","span",null,{"children":"Langue"}]]}],["$","$L1d",null,{"children":["$","$L1e",null,{"children":[["$","$L20",null,{"locale":"en","children":"English"}],["$","$L20",null,{"locale":"fr","children":"Français"}],["$","$L20",null,{"locale":"ru","children":"Русский"}],["$","$L20",null,{"locale":"uk","children":"Українська"}]]}]}]]}]]}]]}]]}],["$","main",null,{"className":"flex flex-col w-screen h-auto items-center justify-center","children":["$","$L3",null,{"parallelRouterKey":"children","segmentPath":["children","$4","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L5",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined","styles":null}]}],["$","$L21",null,{}]]}]}]}]}]
7:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}],["$","meta","1",{"charSet":"utf-8"}],["$","title","2",{"children":"Barres obliques de fin & nginx"}],["$","meta","3",{"name":"description","content":"Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?"}],["$","meta","4",{"name":"application-name","content":"Hammerill"}],["$","meta","5",{"name":"keywords","content":"Hammerill,Personal Website,Blog,Contact,Resume,CV,Petrov,Kyrylo,Kirill,Hamerill,Hammeril,Hameril,Hammermill,Hammerli,Hammerlil,Hammeri,Hamerli,Хаммерилл,Хаммерил,Хамерилл,Хамерил,Quoi"}],["$","meta","6",{"name":"creator","content":"Hammerill, PETROV Kyrylo"}],["$","link","7",{"rel":"canonical","href":"https://hammerill.com/fr/blog/trailing-nginx"}],["$","meta","8",{"name":"me","content":"contact@hammerill.com"}],["$","meta","9",{"property":"og:title","content":"Barres obliques de fin & nginx - Blog Hammerill"}],["$","meta","10",{"property":"og:description","content":"Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?"}],["$","meta","11",{"property":"og:url","content":"https://hammerill.com/fr/blog/trailing-nginx"}],["$","meta","12",{"property":"og:site_name","content":"Hammerill FR"}],["$","meta","13",{"property":"og:image","content":"https://hammerill.com/_next/static/media/trailing-nginx.da548878.png"}],["$","meta","14",{"property":"og:image:width","content":"2400"}],["$","meta","15",{"property":"og:image:height","content":"1260"}],["$","meta","16",{"property":"og:image:alt","content":"Barres obliques de fin & nginx"}],["$","meta","17",{"property":"og:type","content":"article"}],["$","meta","18",{"property":"article:published_time","content":"2024-06-05T00:00:00.000Z"}],["$","meta","19",{"property":"article:author","content":"Hammerill, PETROV Kyrylo"}],["$","meta","20",{"name":"twitter:card","content":"summary_large_image"}],["$","meta","21",{"name":"twitter:title","content":"Barres obliques de fin & nginx - Blog Hammerill"}],["$","meta","22",{"name":"twitter:description","content":"Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?"}],["$","meta","23",{"name":"twitter:image","content":"https://hammerill.com/_next/static/media/trailing-nginx.da548878.png"}],["$","meta","24",{"name":"twitter:image:width","content":"2400"}],["$","meta","25",{"name":"twitter:image:height","content":"1260"}],["$","meta","26",{"name":"twitter:image:alt","content":"Barres obliques de fin & nginx"}],["$","link","27",{"rel":"icon","href":"/favicon.ico","media":"(prefers-color-scheme: light)"}],["$","link","28",{"rel":"icon","href":"/favicon-dark.ico","media":"(prefers-color-scheme: dark)"}],["$","meta","29",{"name":"next-size-adjust"}]]
1:null
22:I[4327,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","158","static/chunks/158-9999b82bb93017b5.js","830","static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js"],"default"]
23:I[1590,["327","static/chunks/327-2859407376bb75c4.js","850","static/chunks/850-0e1143d3b821fc29.js","281","static/chunks/281-0aef6ac1de4a2016.js","219","static/chunks/219-bf639a9455985ab5.js","319","static/chunks/319-43fbdc13f6c39b04.js","203","static/chunks/app/%5Blocale%5D/layout-d4274efdc5205c2b.js"],"DropdownMenuItem"]
9:["$","$L22",null,{"locale":"fr","localePrefix":"always","href":"/blog","className":"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 transition focus:ring-2 focus:ring-ring focus:ring-offset-2","children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-undo2 mr-2 w-4 h-4","children":[["$","path","102s5s",{"d":"M9 14 4 9l5-5"}],["$","path","llx8ln",{"d":"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"}],"$undefined"]}],"Retour au blog"]}]
a:["$","$L22",null,{"locale":"fr","localePrefix":"always","href":"/blog/tag/code","className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground transition h-6 border-transparent hover:bg-secondary","children":[["$","span",null,{"className":"text-primary/75","children":"#"}],"code"]}]
b:["$","$L22",null,{"locale":"fr","localePrefix":"always","href":"/blog/tag/tip","className":"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground transition h-6 border-transparent hover:bg-secondary","children":[["$","span",null,{"className":"text-primary/75","children":"#"}],"astuce"]}]
17:["$","$L22",null,{"locale":"fr","localePrefix":"always","href":"/","children":["$","$L23",null,{"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-home mr-2 h-4 w-4","children":[["$","path","y5dka4",{"d":"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"}],["$","polyline","e2us08",{"points":"9 22 9 12 15 12 15 22"}],"$undefined"]}],["$","span",null,{"children":"Accueil"}]]}]}]
18:["$","$L22",null,{"locale":"fr","localePrefix":"always","href":"/blog","children":["$","$L23",null,{"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-rss mr-2 h-4 w-4","children":[["$","path","pv89mb",{"d":"M4 11a9 9 0 0 1 9 9"}],["$","path","k0647b",{"d":"M4 4a16 16 0 0 1 16 16"}],["$","circle","bfqh0e",{"cx":"5","cy":"19","r":"1"}],"$undefined"]}],["$","span",null,{"children":"Blog"}]]}]}]
19:["$","$L22",null,{"locale":"fr","localePrefix":"always","href":"/contact","children":["$","$L23",null,{"children":[["$","svg",null,{"xmlns":"http://www.w3.org/2000/svg","width":24,"height":24,"viewBox":"0 0 24 24","fill":"none","stroke":"currentColor","strokeWidth":2,"strokeLinecap":"round","strokeLinejoin":"round","className":"lucide lucide-phone mr-2 h-4 w-4","children":[["$","path","foiqr5",{"d":"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"}],"$undefined"]}],["$","span",null,{"children":"Contact"}]]}]}]
