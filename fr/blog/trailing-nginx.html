<!DOCTYPE html><html lang="fr"><head><meta charSet="utf-8"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="preload" href="/_next/static/media/513657b02c5c193f-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" href="/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2" as="font" crossorigin="" type="font/woff2"/><link rel="preload" as="image" href="/hammerill-light.svg" fetchPriority="high"/><link rel="preload" as="image" href="/hammerill-dark.svg" fetchPriority="high"/><link rel="stylesheet" href="/_next/static/css/6be2f7f37679dbb4.css" data-precedence="next"/><link rel="stylesheet" href="/_next/static/css/3113dd14eccff124.css" data-precedence="next"/><link rel="preload" as="script" fetchPriority="low" href="/_next/static/chunks/webpack-052b9fd19d4f62b8.js"/><script src="/_next/static/chunks/fd9d1056-82fc2a82826c61b9.js" async=""></script><script src="/_next/static/chunks/23-5d01470fd16d4487.js" async=""></script><script src="/_next/static/chunks/main-app-5c3b02145e0fdee8.js" async=""></script><script src="/_next/static/chunks/327-a9cb1efd98c66bd0.js" async=""></script><script src="/_next/static/chunks/850-df9277f48c160a4e.js" async=""></script><script src="/_next/static/chunks/158-9999b82bb93017b5.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js" async=""></script><script src="/_next/static/chunks/219-bf639a9455985ab5.js" async=""></script><script src="/_next/static/chunks/448-75b2e08b0ce7c9c7.js" async=""></script><script src="/_next/static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js" async=""></script><title>Barres obliques de fin &amp; nginx</title><meta name="description" content="Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?"/><meta name="application-name" content="Hammerill"/><meta name="keywords" content="Hammerill,Personal Website,Blog,Contact,Resume,CV,Petrov,Kyrylo,Kirill,Hamerill,Hammeril,Hameril,Hammermill,Hammerli,Hammerlil,Hammeri,Hamerli,Хаммерилл,Хаммерил,Хамерилл,Хамерил,Quoi"/><meta name="creator" content="Hammerill, PETROV Kyrylo"/><link rel="canonical" href="https://hammerill.com/fr/blog/trailing-nginx"/><meta name="me" content="contact@hammerill.com"/><meta property="og:title" content="Barres obliques de fin &amp; nginx - Blog Hammerill"/><meta property="og:description" content="Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?"/><meta property="og:url" content="https://hammerill.com/fr/blog/trailing-nginx"/><meta property="og:site_name" content="Hammerill FR"/><meta property="og:image" content="https://hammerill.com/_next/static/media/trailing-nginx.da548878.png"/><meta property="og:image:width" content="2400"/><meta property="og:image:height" content="1260"/><meta property="og:image:alt" content="Barres obliques de fin &amp; nginx"/><meta property="og:type" content="article"/><meta property="article:published_time" content="2024-06-05T00:00:00.000Z"/><meta property="article:author" content="Hammerill, PETROV Kyrylo"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:title" content="Barres obliques de fin &amp; nginx - Blog Hammerill"/><meta name="twitter:description" content="Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?"/><meta name="twitter:image" content="https://hammerill.com/_next/static/media/trailing-nginx.da548878.png"/><meta name="twitter:image:width" content="2400"/><meta name="twitter:image:height" content="1260"/><meta name="twitter:image:alt" content="Barres obliques de fin &amp; nginx"/><link rel="icon" href="/favicon.ico" media="(prefers-color-scheme: light)"/><link rel="icon" href="/favicon-dark.ico" media="(prefers-color-scheme: dark)"/><meta name="next-size-adjust"/><script src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js" noModule=""></script></head><body class="__className_a943a7 overflow-x-hidden"><script>!function(){try{var d=document.documentElement,c=d.classList;c.remove('light','dark');var e=localStorage.getItem('theme');if('system'===e||(!e&&true)){var t='(prefers-color-scheme: dark)',m=window.matchMedia(t);if(m.media!==t||m.matches){d.style.colorScheme = 'dark';c.add('dark')}else{d.style.colorScheme = 'light';c.add('light')}}else if(e){c.add(e|| '')}if(e==='light'||e==='dark')d.style.colorScheme=e}catch(e){}}()</script><header class="fixed top-0 left-0 z-40 w-screen h-20 flex p-5 print:hidden backdrop-blur bg-background/90"><div class="flex items-center justify-start"><h1 class=" w-52 h-16 flex items-center justify-center hover:bg-accent rounded-md transition absolute left-1/2 -translate-x-1/2 xl:relative xl:left-0 xl:translate-x-10"><a class="w-full px-5 h-full flex justify-center items-center ring-ring" href="/fr"><img alt="Hammerill Light Logo" fetchPriority="high" width="1806" height="227" decoding="async" data-nimg="1" class="z-0 w-[188px] h-[23px] block dark:hidden" style="color:transparent" src="/hammerill-light.svg"/><img alt="Hammerill Dark Logo" fetchPriority="high" width="1806" height="227" decoding="async" data-nimg="1" class="z-0 w-[188px] h-[23px] hidden dark:block" style="color:transparent" src="/hammerill-dark.svg"/><span class="absolute top-0 left-0 block opacity-0 w-0 h-0">Hammerill</span></a></h1></div><div class=" w-auto flex items-center justify-center transition absolute left-full -translate-x-[107%] lg:-translate-x-[115%] xl:left-1/2 xl:-translate-x-1/2"><nav aria-label="Main" data-orientation="horizontal" dir="ltr" class="relative z-10 max-w-max flex-1 items-center justify-center hidden xl:flex"><div style="position:relative"><ul data-orientation="horizontal" class="group flex flex-1 list-none items-center justify-center space-x-1" dir="ltr"><li class="flex"><a class="group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50 bg-transparent hidden xl:flex" href="/fr" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-home mr-2 h-4 w-4"><path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path><polyline points="9 22 9 12 15 12 15 22"></polyline></svg><span>Accueil</span></a><a class="group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50 bg-transparent" href="/fr/blog" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-rss mr-2 h-4 w-4"><path d="M4 11a9 9 0 0 1 9 9"></path><path d="M4 4a16 16 0 0 1 16 16"></path><circle cx="5" cy="19" r="1"></circle></svg><span>Blog</span></a><a class="group inline-flex h-10 w-max items-center justify-center rounded-md bg-background px-4 py-2 text-sm font-medium transition-colors hover:bg-accent hover:text-accent-foreground focus:bg-accent focus:text-accent-foreground focus:outline-none disabled:pointer-events-none disabled:opacity-50 data-[active]:bg-accent/50 data-[state=open]:bg-accent/50 bg-transparent" href="/fr/contact" data-radix-collection-item=""><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-phone mr-2 h-4 w-4"><path d="M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z"></path></svg><span>Contact</span></a></li></ul></div><div class="absolute left-0 top-full flex justify-center"></div></nav></div></header><button class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 fixed left-0 top-0 z-50 translate-x-5 translate-y-5 print:hidden" type="button" id="radix-:Rafja:" aria-haspopup="menu" aria-expanded="false" data-state="closed"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-menu h-4 w-4"><line x1="4" x2="20" y1="12" y2="12"></line><line x1="4" x2="20" y1="6" y2="6"></line><line x1="4" x2="20" y1="18" y2="18"></line></svg></button><main class="flex flex-col w-screen h-auto items-center justify-center"><article class="px-5 md:px-10 pb-10 pt-20 print:pt-10 min-h-[calc(100dvh)] max-w-screen-lg flex-col items-center justify-center break-words text-lg blog-post w-[min(100%,1024px)] inline"><div class="w-full"><div class="absolute print:hidden top-20 left-1/2 -translate-x-1/2 w-[min(72rem,100%)] h-[min(38rem,100vw)] -z-20 overflow-y-hidden flex justify-center pt-16 items-start xl:pt-0 xl:items-end"><img alt="Barres obliques de fin &amp; nginx" loading="lazy" width="2400" height="1260" decoding="async" data-nimg="1" class="w-[min(75rem,98%)] lg:w-[min(75rem,90%)] max-w-[1200px] -z-20 rounded-3xl h-auto blur-md dark:blur-xl" style="color:transparent;background-size:cover;background-position:50% 50%;background-repeat:no-repeat;background-image:url(&quot;data:image/svg+xml;charset=utf-8,%3Csvg xmlns=&#x27;http://www.w3.org/2000/svg&#x27; viewBox=&#x27;0 0 320 160&#x27;%3E%3Cfilter id=&#x27;b&#x27; color-interpolation-filters=&#x27;sRGB&#x27;%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3CfeColorMatrix values=&#x27;1 0 0 0 0 0 1 0 0 0 0 0 1 0 0 0 0 0 100 -1&#x27; result=&#x27;s&#x27;/%3E%3CfeFlood x=&#x27;0&#x27; y=&#x27;0&#x27; width=&#x27;100%25&#x27; height=&#x27;100%25&#x27;/%3E%3CfeComposite operator=&#x27;out&#x27; in=&#x27;s&#x27;/%3E%3CfeComposite in2=&#x27;SourceGraphic&#x27;/%3E%3CfeGaussianBlur stdDeviation=&#x27;20&#x27;/%3E%3C/filter%3E%3Cimage width=&#x27;100%25&#x27; height=&#x27;100%25&#x27; x=&#x27;0&#x27; y=&#x27;0&#x27; preserveAspectRatio=&#x27;none&#x27; style=&#x27;filter: url(%23b);&#x27; href=&#x27;data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAU0lEQVR42j2LSRKAIAwE/f/7XEpvLiQGEEL0nIhW6dx6urqxb5CAmH5sVLXIySwYPAbKuYhc9XzEvLi2HwEDoO+GqaLqW4SY1s3FI2cWQNrJm9kN1d1aVDm0CvQAAAAASUVORK5CYII=&#x27;/%3E%3C/svg%3E&quot;)" src="/_next/static/media/trailing-nginx.da548878.png"/></div><div class="absolute top-20 left-1/2 -translate-x-1/2 w-[min(72rem,100%)] h-[min(39rem,100vw)] -z-10 bg-gradient-to-t from-background via-background via-30% md:via-20% lg:via-5% xl:via-0% to-background/50"></div><div class="mb-10 mt-2 print:hidden"><a class="inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 transition focus:ring-2 focus:ring-ring focus:ring-offset-2" href="/fr/blog"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-undo2 mr-2 w-4 h-4"><path d="M9 14 4 9l5-5"></path><path d="M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11"></path></svg>Retour au blog</a></div><div class=""><h1 class="scroll-mt-20 text-4xl lg:text-5xl font-extrabold tracking-tight break-words group/link">Barres obliques de fin &amp; nginx</h1></div><div class="mt-2 mb-10 flex flex-row justify-between text-base"><div class=""><p class="leading-7 break-words mt-0">5 juin 2024</p></div><div class="flex flex-row items-end gap-2"><a class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground transition h-6 border-transparent hover:border-border" href="/fr/blog/tag/code"><span class="text-primary/75">#</span>code</a><a class="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground transition h-6 border-transparent hover:border-border" href="/fr/blog/tag/tip"><span class="text-primary/75">#</span>astuce</a></div></div><div class=""><p class="mt-6 leading-7 break-words">Lorsque vous utilisez nginx et que vous diffusez du code HTML brut,
vous pouvez rencontrer un problème courant : l&#x27;URI doit se comporter
d&#x27;une manière spécifique que vous avez définie.
Sinon, votre site risque de ne pas fonctionner correctement
ou même de renvoyer un écran d&#x27;erreur à l&#x27;utilisateur.</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Par exemple, vous avez réalisé une
<a target="_blank" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="https://nextjs.org/docs/app/building-your-application/deploying/static-exports">exportation statique avec Next.js</a>
avec un paramètre &quot;pas de barre oblique de fin&quot;, de sorte que vos utilisateurs
sont censés accéder à &quot;/page&quot;. Ainsi, vous diffuserez votre site avec
cette directive nginx : <code class="bg-border rounded px-1 print:text-wrap">try_files $uri $uri.html $uri/ =404;</code>.</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Et du coup, l&#x27;accès à &quot;/page/&quot; renverra une erreur 404 à l&#x27;utilisateur !</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Bien sûr, nous devons le corriger. Laissez-moi vous expliquer comment.</p></div>
<div class=""><p class="mt-6 leading-7 break-words"><em>(Oui. J&#x27;ai vraiment écrit un article entier à ce sujet.
Après tout, vous pouvez apprendre la regex avec moi !)</em></p></div>
<div class=""><h2 id="table-des-matières" class="mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link">Table des matières<a aria-hidden="true" tabindex="-1" target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#table-des-matières"><span class="icon icon-link"></span></a></h2></div>
<ul>
<div class=""><li><a target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#il-faut-de-barres-obliques-de-fin">Il faut de barres obliques de fin</a></li></div>
<div class=""><li><a target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#il-faut-pas-de-barres-obliques-de-fin">Il faut pas de barres obliques de fin</a></li></div>
<div class=""><li><a target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#apache">Apache</a></li></div>
</ul>
<div class=""><h2 id="il-faut-de-barres-obliques-de-fin" class="mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link">Il faut de barres obliques de fin<a aria-hidden="true" tabindex="-1" target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#il-faut-de-barres-obliques-de-fin"><span class="icon icon-link"></span></a></h2></div>
<div class="w-full flex items-center justify-start"><img alt="URI Noslash à Slash" loading="lazy" width="600" height="200" decoding="async" data-nimg="1" class="mt-6" style="color:transparent" src="/_next/static/media/noslash-to-slash.70f1222e.png"/></div><div class="text-center"></div>
<div class=""><p class="mt-6 leading-7 break-words">Pour forcer les URI à se terminer par une barre oblique dans nginx, utilisez cette redirection :</p></div>
<div class=""><div dir="ltr" class="relative overflow-hidden mt-6 w-full border border-border rounded-md" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit]" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre><code class="bg-border rounded px-1 print:text-wrap hljs language-ini"><span class="hljs-comment"># Rediriger les barres obliques de fin (exmpl. &quot;.../page&quot; -&gt; &quot;.../page/&quot;)</span>
location ~ ^(.+<span class="hljs-section">[^/]</span>)$ {
    return 301 $scheme://$host$1/<span class="hljs-comment">;</span>
}
</code></pre></div></div></div></div>
<div class=""><p class="mt-6 leading-7 break-words">Celui-ci capture toutes les URI correspondant à l&#x27;expression régulière <code class="bg-border rounded px-1 print:text-wrap">^(.+[^/])$</code>
(cela semble incompréhensible mais je vais vous l&#x27;expliquer) :</p></div>
<ul>
<div class=""><li><code class="bg-border rounded px-1 print:text-wrap">^</code> et <code class="bg-border rounded px-1 print:text-wrap">$</code> signifient le début et la fin de l&#x27;URI ;</li></div>
<div class=""><li><code class="bg-border rounded px-1 print:text-wrap">()</code>, ou simplement des parenthèses, signifient capturer la valeur à
l&#x27;intérieur dans un &quot;groupe regex&quot;. Comme il s&#x27;agit du premier (et le seul) groupe,
il est accessible dans nginx via <code class="bg-border rounded px-1 print:text-wrap">$1</code>;</li></div>
<div class=""><li><code class="bg-border rounded px-1 print:text-wrap">.+</code> signifie une séquence de n&#x27;importe quel caractère et de n&#x27;importe quelle longueur
(presque l&#x27;URI entière disons) ;</li></div>
<div class=""><li>et <code class="bg-border rounded px-1 print:text-wrap">[^/]</code> s&#x27;agit de tout autre caractère qui n&#x27;est pas une barre oblique. Dans nginx,
vous n&#x27;avez pas besoin de l&#x27;échapper comme ceci : <code class="bg-border rounded px-1 print:text-wrap">[^\/]</code>.</li></div>
</ul>
<div class=""><p class="mt-6 leading-7 break-words">De cette façon, toutes les demandes d&#x27;URI ne se terminant pas par une barre oblique entreront
et exécuteront ainsi la directive &quot;return 301&quot;, indiquant effectivement au client que
la page réside sur une autre URL (avec un URI d&#x27;origine récupéré de l&#x27;expression régulière
en tant que groupe 1 ou <code class="bg-border rounded px-1 print:text-wrap">$1</code> + une barre oblique ajoutée à la fin).</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Je vous rappelle que c&#x27;est à vous de gérer les routes de votre serveur web !
Notamment la racine, le <code class="bg-border rounded px-1 print:text-wrap">/</code>. Vous pouvez configurer cette regex selon vos besoins
(comme utiliser <code class="bg-border rounded px-1 print:text-wrap">.*</code> au lieu de <code class="bg-border rounded px-1 print:text-wrap">.+</code> pour également capturer le cas où il n&#x27;y a rien
à gauche de la barre. Là encore, c&#x27;est à vous d&#x27;aller essayer).</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Cette technique est basée sur la redirection.
Vous pouvez utiliser la directive &quot;rewrite&quot; à la place (trouvée en ligne ailleurs).
Je vous donne juste l&#x27;exemple de ce qui me semble le plus correct.</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Maintenant, accéder à &quot;/page&quot; nous amènera à &quot;/page/&quot;.
Accéder directement à &quot;/page/&quot; ne fera rien d&#x27;autre et la page sera simplement chargée.</p></div>
<div class=""><h2 id="il-faut-pas-de-barres-obliques-de-fin" class="mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link">Il faut pas de barres obliques de fin<a aria-hidden="true" tabindex="-1" target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#il-faut-pas-de-barres-obliques-de-fin"><span class="icon icon-link"></span></a></h2></div>
<div class="w-full flex items-center justify-start"><img alt="URI Slash à Noslash" loading="lazy" width="600" height="200" decoding="async" data-nimg="1" class="mt-6" style="color:transparent" src="/_next/static/media/slash-to-noslash.53756b34.png"/></div><div class="text-center"></div>
<div class=""><p class="mt-6 leading-7 break-words">Afin de forcer les URL à <strong>ne pas</strong> se terminer par une barre oblique dans nginx, utilisez cette redirection :</p></div>
<div class=""><div dir="ltr" class="relative overflow-hidden mt-6 w-full border border-border rounded-md" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit]" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre><code class="bg-border rounded px-1 print:text-wrap hljs language-ini"><span class="hljs-comment"># Rediriger les barres obliques de fin (exmpl. &quot;.../page/&quot; -&gt; &quot;.../page&quot;)</span>
location ~ ^(.+)/$ {
    return 301 $scheme://$host$1<span class="hljs-comment">;</span>
}
</code></pre></div></div></div></div>
<div class=""><p class="mt-6 leading-7 break-words">Celui-ci capture tous les URI correspondant à l&#x27;expression régulière <code class="bg-border rounded px-1 print:text-wrap">^(.+)/$</code> :</p></div>
<ul>
<div class=""><li><code class="bg-border rounded px-1 print:text-wrap">^</code> et <code class="bg-border rounded px-1 print:text-wrap">$</code> signifient le début et la fin de l&#x27;URI ;</li></div>
<div class=""><li><code class="bg-border rounded px-1 print:text-wrap">(.+)</code> signifie une séquence de n&#x27;importe quel caractère et de n&#x27;importe quelle longueur
(presque l&#x27;URI entière, disons). En mettant un point (n&#x27;importe quel caractère) et un plus
(n&#x27;importe quelle longueur à partir de 1) entre parenthèses, nous capturons cette valeur
comme groupe regex 1 ou <code class="bg-border rounded px-1 print:text-wrap">$1</code> dans nginx ;</li></div>
<div class=""><li>et <code class="bg-border rounded px-1 print:text-wrap">/</code> s&#x27;agit de la barre oblique à la fin de la chaîne que nous recherchons. Dans nginx,
vous n&#x27;avez pas besoin de l&#x27;échapper comme <code class="bg-border rounded px-1 print:text-wrap">\/</code>. Notez comment elle se trouve
en dehors des parenthèses. Elle ne fait pas partie du groupe 1.</li></div>
</ul>
<div class=""><p class="mt-6 leading-7 break-words">De cette façon, toutes les demandes d&#x27;URI se terminant par une barre oblique
entreront et exécuteront ainsi la directive &quot;return 301&quot;, indiquant effectivement au client que
la page réside sur une autre URL (avec un URI ne contenant pas de barre oblique extraite de
l&#x27;expression régulière en tant que groupe 1 ou <code class="bg-border rounded px-1 print:text-wrap">$1</code>).</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Ainsi, votre bloc de serveur final pourrait ressembler à :</p></div>
<div class=""><div dir="ltr" class="relative overflow-hidden mt-6 w-full border border-border rounded-md" style="position:relative;--radix-scroll-area-corner-width:0px;--radix-scroll-area-corner-height:0px"><style>[data-radix-scroll-area-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-scroll-area-viewport]::-webkit-scrollbar{display:none}</style><div data-radix-scroll-area-viewport="" class="h-full w-full rounded-[inherit]" style="overflow-x:hidden;overflow-y:hidden"><div style="min-width:100%;display:table"><pre><code class="bg-border rounded px-1 print:text-wrap hljs language-ini">...
root /var/www/html/<span class="hljs-comment">;</span>
index index.html<span class="hljs-comment">;</span>

<span class="hljs-comment"># Rediriger les barres obliques de fin (exmpl. &quot;.../page/&quot; -&gt; &quot;.../page&quot;)</span>
location ~ ^(.+)/$ {
    return 301 $scheme://$host$1<span class="hljs-comment">;</span>
}

location / {
    try_files $uri $uri.html $uri/ =404<span class="hljs-comment">;</span>
}
...
</code></pre></div></div></div></div>
<div class=""><p class="mt-6 leading-7 break-words">Et maintenant, accéder à &quot;/page&quot; ne fera rien et chargera simplement la page.
Accéder à &quot;/page/&quot; nous amènera à &quot;/page&quot;, évitant ainsi, par exemple, l&#x27;erreur 404 dont j&#x27;ai parlé dans l&#x27;intro.</p></div>
<div class=""><h2 id="apache" class="mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link">Apache<a aria-hidden="true" tabindex="-1" target="_self" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="#apache"><span class="icon icon-link"></span></a></h2></div>
<div class=""><p class="mt-6 leading-7 break-words">Désolé, il n&#x27;y aura pas de guide Apache car je n&#x27;en ai pas l&#x27;expérience.
Cependant, si vous en avez, vous pouvez contribuer ici en
<a target="_blank" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="mailto:contact@hammerill.com">m&#x27;envoyant un e-mail</a>.</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Ah, avez-vous vu mon <a target="_blank" class="font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2" href="https://hammerill.com/fr/secret">secret</a> ?</p></div>
<div class=""><p class="mt-6 leading-7 break-words">Salut !</p></div></div></article></main><div role="region" aria-label="Notifications (F8)" tabindex="-1" style="pointer-events:none"><ol tabindex="-1" class="fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]"></ol></div><script src="/_next/static/chunks/webpack-052b9fd19d4f62b8.js" async=""></script><script>(self.__next_f=self.__next_f||[]).push([0]);self.__next_f.push([2,null])</script><script>self.__next_f.push([1,"1:HL[\"/_next/static/media/513657b02c5c193f-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n2:HL[\"/_next/static/media/c9a5bc6a7c948fb0-s.p.woff2\",\"font\",{\"crossOrigin\":\"\",\"type\":\"font/woff2\"}]\n3:HL[\"/_next/static/css/6be2f7f37679dbb4.css\",\"style\"]\n4:HL[\"/_next/static/css/3113dd14eccff124.css\",\"style\"]\n"])</script><script>self.__next_f.push([1,"5:I[5751,[],\"\"]\n8:I[9275,[],\"\"]\na:I[1343,[],\"\"]\nd:I[6130,[],\"\"]\n9:[\"locale\",\"fr\",\"d\"]\ne:[]\n"])</script><script>self.__next_f.push([1,"0:[null,[\"$\",\"$L5\",null,{\"buildId\":\"b_Ur8thI5_Apc7Ye_yCAr\",\"assetPrefix\":\"\",\"initialCanonicalUrl\":\"/fr/blog/trailing-nginx\",\"initialTree\":[\"\",{\"children\":[[\"locale\",\"fr\",\"d\"],{\"children\":[\"(routes)\",{\"children\":[\"blog\",{\"children\":[\"(articles)\",{\"children\":[\"(2024)\",{\"children\":[\"(06)\",{\"children\":[\"trailing-nginx\",{\"children\":[\"__PAGE__?{\\\"locale\\\":\\\"fr\\\"}\",{}]}]}]}]}]}]}]}]},\"$undefined\",\"$undefined\",true],\"initialSeedData\":[\"\",{\"children\":[[\"locale\",\"fr\",\"d\"],{\"children\":[\"(routes)\",{\"children\":[\"blog\",{\"children\":[\"(articles)\",{\"children\":[\"(2024)\",{\"children\":[\"(06)\",{\"children\":[\"trailing-nginx\",{\"children\":[\"__PAGE__\",{},[[\"$L6\",\"$L7\"],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"(routes)\",\"children\",\"blog\",\"children\",\"(articles)\",\"children\",\"(2024)\",\"children\",\"(06)\",\"children\",\"trailing-nginx\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"(routes)\",\"children\",\"blog\",\"children\",\"(articles)\",\"children\",\"(2024)\",\"children\",\"(06)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"(routes)\",\"children\",\"blog\",\"children\",\"(articles)\",\"children\",\"(2024)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[[\"$\",\"article\",null,{\"className\":\"px-5 md:px-10 pb-10 pt-20 print:pt-10 min-h-[calc(100dvh)] max-w-screen-lg flex-col items-center justify-center break-words text-lg blog-post w-[min(100%,1024px)] inline\",\"children\":[\"$\",\"div\",null,{\"className\":\"w-full\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"(routes)\",\"children\",\"blog\",\"children\",\"(articles)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}]}],null],null]},[[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"(routes)\",\"children\",\"blog\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/3113dd14eccff124.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null],null]},[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\",\"(routes)\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}],null]},[\"$Lb\",null],null]},[[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":[[\"$\",\"title\",null,{\"children\":\"404: This page could not be found.\"}],[\"$\",\"div\",null,{\"style\":{\"fontFamily\":\"system-ui,\\\"Segoe UI\\\",Roboto,Helvetica,Arial,sans-serif,\\\"Apple Color Emoji\\\",\\\"Segoe UI Emoji\\\"\",\"height\":\"100vh\",\"textAlign\":\"center\",\"display\":\"flex\",\"flexDirection\":\"column\",\"alignItems\":\"center\",\"justifyContent\":\"center\"},\"children\":[\"$\",\"div\",null,{\"children\":[[\"$\",\"style\",null,{\"dangerouslySetInnerHTML\":{\"__html\":\"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}\"}}],[\"$\",\"h1\",null,{\"className\":\"next-error-h1\",\"style\":{\"display\":\"inline-block\",\"margin\":\"0 20px 0 0\",\"padding\":\"0 23px 0 0\",\"fontSize\":24,\"fontWeight\":500,\"verticalAlign\":\"top\",\"lineHeight\":\"49px\"},\"children\":\"404\"}],[\"$\",\"div\",null,{\"style\":{\"display\":\"inline-block\"},\"children\":[\"$\",\"h2\",null,{\"style\":{\"fontSize\":14,\"fontWeight\":400,\"lineHeight\":\"49px\",\"margin\":0},\"children\":\"This page could not be found.\"}]}]]}]}]],\"notFoundStyles\":[],\"styles\":[[\"$\",\"link\",\"0\",{\"rel\":\"stylesheet\",\"href\":\"/_next/static/css/6be2f7f37679dbb4.css\",\"precedence\":\"next\",\"crossOrigin\":\"$undefined\"}]]}],null],null],\"couldBeIntercepted\":false,\"initialHead\":[false,\"$Lc\"],\"globalErrorComponent\":\"$d\",\"missingSlots\":\"$We\"}]]\n"])</script><script>self.__next_f.push([1,"f:I[8173,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"158\",\"static/chunks/158-9999b82bb93017b5.js\",\"830\",\"static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js\"],\"Image\"]\n13:I[231,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"158\",\"static/chunks/158-9999b82bb93017b5.js\",\"830\",\"static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js\"],\"\"]\n14:I[23,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"158\",\"static/chunks/158-9999b82bb93017b5.js\",\"830\",\"static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js\"],\"ScrollArea\"]\n15:I[23,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"158\",\"static/chunks/158-9999b82bb93017b5.js\",\"830\",\"static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js\"],\"ScrollBar\"]\n16:I[4858,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"ThemeProvider\"]\n17:I[9877,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"default\"]\n18:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenu\"]\n19:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chu"])</script><script>self.__next_f.push([1,"nks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuTrigger\"]\n1a:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuContent\"]\n1b:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuLabel\"]\n1c:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuGroup\"]\n20:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuSeparator\"]\n21:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuSub\"]\n22:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuSubTrigger\"]\n23:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75"])</script><script>self.__next_f.push([1,"b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuPortal\"]\n24:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuSubContent\"]\n25:I[4940,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"default\"]\n26:I[2132,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"default\"]\n27:I[7100,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"Toaster\"]\n"])</script><script>self.__next_f.push([1,"7:[[[\"$\",\"div\",null,{\"className\":\"absolute print:hidden top-20 left-1/2 -translate-x-1/2 w-[min(72rem,100%)] h-[min(38rem,100vw)] -z-20 overflow-y-hidden flex justify-center pt-16 items-start xl:pt-0 xl:items-end\",\"children\":[\"$\",\"$Lf\",null,{\"className\":\"w-[min(75rem,98%)] lg:w-[min(75rem,90%)] max-w-[1200px] -z-20 rounded-3xl h-auto blur-md dark:blur-xl\",\"src\":{\"src\":\"/_next/static/media/trailing-nginx.da548878.png\",\"height\":1260,\"width\":2400,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAAECAIAAAA8r+mnAAAAU0lEQVR42j2LSRKAIAwE/f/7XEpvLiQGEEL0nIhW6dx6urqxb5CAmH5sVLXIySwYPAbKuYhc9XzEvLi2HwEDoO+GqaLqW4SY1s3FI2cWQNrJm9kN1d1aVDm0CvQAAAAASUVORK5CYII=\",\"blurWidth\":8,\"blurHeight\":4},\"alt\":\"Barres obliques de fin \u0026 nginx\",\"placeholder\":\"blur\"}]}],[\"$\",\"div\",null,{\"className\":\"absolute top-20 left-1/2 -translate-x-1/2 w-[min(72rem,100%)] h-[min(39rem,100vw)] -z-10 bg-gradient-to-t from-background via-background via-30% md:via-20% lg:via-5% xl:via-0% to-background/50\"}],[[\"$\",\"div\",null,{\"className\":\"mb-10 mt-2 print:hidden\",\"children\":\"$L10\"}],[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"h1\",null,{\"className\":\"scroll-mt-20 text-4xl lg:text-5xl font-extrabold tracking-tight break-words group/link\",\"children\":\"Barres obliques de fin \u0026 nginx\"}]}],[\"$\",\"div\",null,{\"className\":\"mt-2 mb-10 flex flex-row justify-between text-base\",\"children\":[[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"leading-7 break-words mt-0\",\"children\":\"5 juin 2024\"}]}],[\"$\",\"div\",null,{\"className\":\"flex flex-row items-end gap-2\",\"children\":[\"$L11\",\"$L12\"]}]]}]]],[[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Lorsque vous utilisez nginx et que vous diffusez du code HTML brut,\\nvous pouvez rencontrer un problème courant : l'URI doit se comporter\\nd'une manière spécifique que vous avez définie.\\nSinon, votre site risque de ne pas fonctionner correctement\\nou même de renvoyer un écran d'erreur à l'utilisateur.\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Par exemple, vous avez réalisé une\\n\",[\"$\",\"$L13\",null,{\"href\":\"https://nextjs.org/docs/app/building-your-application/deploying/static-exports\",\"target\":\"_blank\",\"prefetch\":true,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":\"exportation statique avec Next.js\"}],\"\\navec un paramètre \\\"pas de barre oblique de fin\\\", de sorte que vos utilisateurs\\nsont censés accéder à \\\"/page\\\". Ainsi, vous diffuserez votre site avec\\ncette directive nginx : \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"try_files $uri $uri.html $uri/ =404;\"}],\".\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Et du coup, l'accès à \\\"/page/\\\" renverra une erreur 404 à l'utilisateur !\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Bien sûr, nous devons le corriger. Laissez-moi vous expliquer comment.\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"$\",\"em\",null,{\"children\":\"(Oui. J'ai vraiment écrit un article entier à ce sujet.\\nAprès tout, vous pouvez apprendre la regex avec moi !)\"}]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"h2\",null,{\"id\":\"table-des-matières\",\"className\":\"mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link\",\"children\":[\"Table des matières\",[\"$\",\"$L13\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#table-des-matières\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}]]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"$L13\",null,{\"href\":\"#il-faut-de-barres-obliques-de-fin\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":\"Il faut de barres obliques de fin\"}]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"$L13\",null,{\"href\":\"#il-faut-pas-de-barres-obliques-de-fin\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":\"Il faut pas de barres obliques de fin\"}]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[\"$\",\"$L13\",null,{\"href\":\"#apache\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":\"Apache\"}]}]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"h2\",null,{\"id\":\"il-faut-de-barres-obliques-de-fin\",\"className\":\"mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link\",\"children\":[\"Il faut de barres obliques de fin\",[\"$\",\"$L13\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#il-faut-de-barres-obliques-de-fin\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}]]}]}],\"\\n\",[[\"$\",\"div\",null,{\"className\":\"w-full flex items-center justify-start\",\"children\":[\"$\",\"$Lf\",null,{\"src\":{\"src\":\"/_next/static/media/noslash-to-slash.70f1222e.png\",\"height\":800,\"width\":2400,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAP0lEQVR42j2JWwrAIBADvf/5WsFPbbfFK6zZrA/EQEKGCSTNbO7KwTCai9wxyVfL+18x5UdIn6IBqgoY9oG7dyJoRRb0MU2HAAAAAElFTkSuQmCC\",\"blurWidth\":8,\"blurHeight\":3},\"alt\":\"URI Noslash à Slash\",\"width\":600,\"className\":\"mt-6\"}]}],[\"$\",\"div\",null,{\"className\":\"text-center\",\"children\":\"$undefined\"}]],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Pour forcer les URI à se terminer par une barre oblique dans nginx, utilisez cette redirection :\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"$L14\",null,{\"className\":\"mt-6 w-full border border-border  rounded-md \",\"children\":[[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap hljs language-ini\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Rediriger les barres obliques de fin (exmpl. \\\".../page\\\" -\u003e \\\".../page/\\\")\"}],\"\\nlocation ~ ^(.+\",[\"$\",\"span\",null,{\"className\":\"hljs-section\",\"children\":\"[^/]\"}],\")$ {\\n    return 301 $scheme://$host$1/\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\";\"}],\"\\n}\\n\"]}]}],[\"$\",\"$L15\",null,{\"orientation\":\"horizontal\"}]]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Celui-ci capture toutes les URI correspondant à l'expression régulière \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"^(.+[^/])$\"}],\"\\n(cela semble incompréhensible mais je vais vous l'expliquer) :\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"^\"}],\" et \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"$$\"}],\" signifient le début et la fin de l'URI ;\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"()\"}],\", ou simplement des parenthèses, signifient capturer la valeur à\\nl'intérieur dans un \\\"groupe regex\\\". Comme il s'agit du premier (et le seul) groupe,\\nil est accessible dans nginx via \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"$$1\"}],\";\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\".+\"}],\" signifie une séquence de n'importe quel caractère et de n'importe quelle longueur\\n(presque l'URI entière disons) ;\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[\"et \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"[^/]\"}],\" s'agit de tout autre caractère qui n'est pas une barre oblique. Dans nginx,\\nvous n'avez pas besoin de l'échapper comme ceci : \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"[^\\\\/]\"}],\".\"]}]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"De cette façon, toutes les demandes d'URI ne se terminant pas par une barre oblique entreront\\net exécuteront ainsi la directive \\\"return 301\\\", indiquant effectivement au client que\\nla page réside sur une autre URL (avec un URI d'origine récupéré de l'expression régulière\\nen tant que groupe 1 ou \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"$$1\"}],\" + une barre oblique ajoutée à la fin).\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Je vous rappelle que c'est à vous de gérer les routes de votre serveur web !\\nNotamment la racine, le \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"/\"}],\". Vous pouvez configurer cette regex selon vos besoins\\n(comme utiliser \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\".*\"}],\" au lieu de \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\".+\"}],\" pour également capturer le cas où il n'y a rien\\nà gauche de la barre. Là encore, c'est à vous d'aller essayer).\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Cette technique est basée sur la redirection.\\nVous pouvez utiliser la directive \\\"rewrite\\\" à la place (trouvée en ligne ailleurs).\\nJe vous donne juste l'exemple de ce qui me semble le plus correct.\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Maintenant, accéder à \\\"/page\\\" nous amènera à \\\"/page/\\\".\\nAccéder directement à \\\"/page/\\\" ne fera rien d'autre et la page sera simplement chargée.\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"h2\",null,{\"id\":\"il-faut-pas-de-barres-obliques-de-fin\",\"className\":\"mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link\",\"children\":[\"Il faut pas de barres obliques de fin\",[\"$\",\"$L13\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#il-faut-pas-de-barres-obliques-de-fin\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}]]}]}],\"\\n\",[[\"$\",\"div\",null,{\"className\":\"w-full flex items-center justify-start\",\"children\":[\"$\",\"$Lf\",null,{\"src\":{\"src\":\"/_next/static/media/slash-to-noslash.53756b34.png\",\"height\":800,\"width\":2400,\"blurDataURL\":\"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAgAAAADCAIAAAAhqtkfAAAAP0lEQVR42mP49+/f37//QCQE/IMCBiB++OjplWs3Hz95/uz56xu37t699xAq8fv3n58/f/4Bgb+/QOD3////ASMWRRKaKnR6AAAAAElFTkSuQmCC\",\"blurWidth\":8,\"blurHeight\":3},\"alt\":\"URI Slash à Noslash\",\"width\":600,\"className\":\"mt-6\"}]}],[\"$\",\"div\",null,{\"className\":\"text-center\",\"children\":\"$undefined\"}]],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Afin de forcer les URL à \",[\"$\",\"strong\",null,{\"children\":\"ne pas\"}],\" se terminer par une barre oblique dans nginx, utilisez cette redirection :\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"$L14\",null,{\"className\":\"mt-6 w-full border border-border  rounded-md \",\"children\":[[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap hljs language-ini\",\"children\":[[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Rediriger les barres obliques de fin (exmpl. \\\".../page/\\\" -\u003e \\\".../page\\\")\"}],\"\\nlocation ~ ^(.+)/$ {\\n    return 301 $scheme://$host$1\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\";\"}],\"\\n}\\n\"]}]}],[\"$\",\"$L15\",null,{\"orientation\":\"horizontal\"}]]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Celui-ci capture tous les URI correspondant à l'expression régulière \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"^(.+)/$\"}],\" :\"]}]}],\"\\n\",[\"$\",\"ul\",null,{\"children\":[\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"^\"}],\" et \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"$$\"}],\" signifient le début et la fin de l'URI ;\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"(.+)\"}],\" signifie une séquence de n'importe quel caractère et de n'importe quelle longueur\\n(presque l'URI entière, disons). En mettant un point (n'importe quel caractère) et un plus\\n(n'importe quelle longueur à partir de 1) entre parenthèses, nous capturons cette valeur\\ncomme groupe regex 1 ou \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"$$1\"}],\" dans nginx ;\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"li\",null,{\"children\":[\"et \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"/\"}],\" s'agit de la barre oblique à la fin de la chaîne que nous recherchons. Dans nginx,\\nvous n'avez pas besoin de l'échapper comme \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"\\\\/\"}],\". Notez comment elle se trouve\\nen dehors des parenthèses. Elle ne fait pas partie du groupe 1.\"]}]}],\"\\n\"]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"De cette façon, toutes les demandes d'URI se terminant par une barre oblique\\nentreront et exécuteront ainsi la directive \\\"return 301\\\", indiquant effectivement au client que\\nla page réside sur une autre URL (avec un URI ne contenant pas de barre oblique extraite de\\nl'expression régulière en tant que groupe 1 ou \",[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap\",\"children\":\"$$1\"}],\").\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Ainsi, votre bloc de serveur final pourrait ressembler à :\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"$L14\",null,{\"className\":\"mt-6 w-full border border-border  rounded-md \",\"children\":[[\"$\",\"pre\",null,{\"children\":[\"$\",\"code\",null,{\"className\":\"bg-border rounded px-1 print:text-wrap hljs language-ini\",\"children\":[\"...\\nroot /var/www/html/\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\";\"}],\"\\nindex index.html\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\";\"}],\"\\n\\n\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\"# Rediriger les barres obliques de fin (exmpl. \\\".../page/\\\" -\u003e \\\".../page\\\")\"}],\"\\nlocation ~ ^(.+)/$ {\\n    return 301 $scheme://$host$1\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\";\"}],\"\\n}\\n\\nlocation / {\\n    try_files $uri $uri.html $uri/ =404\",[\"$\",\"span\",null,{\"className\":\"hljs-comment\",\"children\":\";\"}],\"\\n}\\n...\\n\"]}]}],[\"$\",\"$L15\",null,{\"orientation\":\"horizontal\"}]]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Et maintenant, accéder à \\\"/page\\\" ne fera rien et chargera simplement la page.\\nAccéder à \\\"/page/\\\" nous amènera à \\\"/page\\\", évitant ainsi, par exemple, l'erreur 404 dont j'ai parlé dans l'intro.\"}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"h2\",null,{\"id\":\"apache\",\"className\":\"mt-10 scroll-mt-20 border-b pb-2 text-3xl font-semibold tracking-tight break-words group/link\",\"children\":[\"Apache\",[\"$\",\"$L13\",null,{\"aria-hidden\":\"true\",\"tabIndex\":\"-1\",\"href\":\"#apache\",\"target\":\"_self\",\"prefetch\":false,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":[\"$\",\"span\",null,{\"className\":\"icon icon-link\"}]}]]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Désolé, il n'y aura pas de guide Apache car je n'en ai pas l'expérience.\\nCependant, si vous en avez, vous pouvez contribuer ici en\\n\",[\"$\",\"$L13\",null,{\"href\":\"mailto:contact@hammerill.com\",\"target\":\"_blank\",\"prefetch\":true,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":\"m'envoyant un e-mail\"}],\".\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":[\"Ah, avez-vous vu mon \",[\"$\",\"$L13\",null,{\"href\":\"https://hammerill.com/fr/secret\",\"target\":\"_blank\",\"prefetch\":true,\"className\":\"font-medium transition text-[#00F] hover:bg-[#00F1] dark:text-primary dark:hover:bg-primary/20 rounded underline underline-offset-2\",\"children\":\"secret\"}],\" ?\"]}]}],\"\\n\",[\"$\",\"div\",null,{\"className\":\"\",\"children\":[\"$\",\"p\",null,{\"className\":\"mt-6 leading-7 break-words\",\"children\":\"Salut !\"}]}]]]\n"])</script><script>self.__next_f.push([1,"b:[\"$\",\"html\",null,{\"lang\":\"fr\",\"children\":[\"$\",\"body\",null,{\"className\":\"__className_a943a7 overflow-x-hidden\",\"children\":[\"$\",\"$L16\",null,{\"attribute\":\"class\",\"defaultTheme\":\"system\",\"enableSystem\":true,\"disableTransitionOnChange\":true,\"children\":[[\"$\",\"$L17\",null,{\"navHome\":\"Accueil\",\"navBlog\":\"Blog\",\"navContact\":\"Contact\"}],[\"$\",\"$L18\",null,{\"children\":[[\"$\",\"$L19\",null,{\"asChild\":true,\"children\":[\"$\",\"button\",null,{\"className\":\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 hover:bg-accent hover:text-accent-foreground h-10 w-10 fixed left-0 top-0 z-50 translate-x-5 translate-y-5 print:hidden\",\"children\":[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-menu h-4 w-4\",\"children\":[[\"$\",\"line\",\"1e0a9i\",{\"x1\":\"4\",\"x2\":\"20\",\"y1\":\"12\",\"y2\":\"12\"}],[\"$\",\"line\",\"1owob3\",{\"x1\":\"4\",\"x2\":\"20\",\"y1\":\"6\",\"y2\":\"6\"}],[\"$\",\"line\",\"yk5zj1\",{\"x1\":\"4\",\"x2\":\"20\",\"y1\":\"18\",\"y2\":\"18\"}],\"$undefined\"]}]}]}],[\"$\",\"$L1a\",null,{\"className\":\"w-56 mx-5 my-4\",\"children\":[[\"$\",\"$L1b\",null,{\"children\":\"Navigation\"}],[\"$\",\"$L1c\",null,{\"children\":[\"$L1d\",\"$L1e\",\"$L1f\"]}],[\"$\",\"$L20\",null,{}],[\"$\",\"$L1b\",null,{\"children\":\"Paramètres\"}],[\"$\",\"$L1c\",null,{\"children\":[[\"$\",\"$L21\",null,{\"children\":[[\"$\",\"$L22\",null,{\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-sun mr-2 h-4 w-4 rotate-0 scale-100 transition-all dark:-rotate-90 dark:scale-0\",\"children\":[[\"$\",\"circle\",\"4exip2\",{\"cx\":\"12\",\"cy\":\"12\",\"r\":\"4\"}],[\"$\",\"path\",\"tus03m\",{\"d\":\"M12 2v2\"}],[\"$\",\"path\",\"1lh1kg\",{\"d\":\"M12 20v2\"}],[\"$\",\"path\",\"149t6j\",{\"d\":\"m4.93 4.93 1.41 1.41\"}],[\"$\",\"path\",\"ptbguv\",{\"d\":\"m17.66 17.66 1.41 1.41\"}],[\"$\",\"path\",\"1t8f8n\",{\"d\":\"M2 12h2\"}],[\"$\",\"path\",\"1q8mjw\",{\"d\":\"M20 12h2\"}],[\"$\",\"path\",\"1m8zz5\",{\"d\":\"m6.34 17.66-1.41 1.41\"}],[\"$\",\"path\",\"1shlcs\",{\"d\":\"m19.07 4.93-1.41 1.41\"}],\"$undefined\"]}],[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-moon absolute mr-2 h-4 w-4 rotate-90 scale-0 transition-all dark:rotate-0 dark:scale-100\",\"children\":[[\"$\",\"path\",\"a7tn18\",{\"d\":\"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Mode\"}]]}],[\"$\",\"$L23\",null,{\"children\":[\"$\",\"$L24\",null,{\"children\":[[\"$\",\"$L25\",null,{\"theme\":\"light\",\"children\":\"Claire\"}],[\"$\",\"$L25\",null,{\"theme\":\"dark\",\"children\":\"Sombre\"}],[\"$\",\"$L25\",null,{\"theme\":\"system\",\"children\":\"Système\"}]]}]}]]}],[\"$\",\"$L21\",null,{\"children\":[[\"$\",\"$L22\",null,{\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-languages mr-2 h-4 w-4\",\"children\":[[\"$\",\"path\",\"1wu5hv\",{\"d\":\"m5 8 6 6\"}],[\"$\",\"path\",\"1k1g8d\",{\"d\":\"m4 14 6-6 2-3\"}],[\"$\",\"path\",\"or177f\",{\"d\":\"M2 5h12\"}],[\"$\",\"path\",\"1t2jsx\",{\"d\":\"M7 2h1\"}],[\"$\",\"path\",\"don7ne\",{\"d\":\"m22 22-5-10-5 10\"}],[\"$\",\"path\",\"1m8k6r\",{\"d\":\"M14 18h6\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Langue\"}]]}],[\"$\",\"$L23\",null,{\"children\":[\"$\",\"$L24\",null,{\"children\":[[\"$\",\"$L26\",null,{\"locale\":\"en\",\"children\":\"English\"}],[\"$\",\"$L26\",null,{\"locale\":\"fr\",\"children\":\"Français\"}],[\"$\",\"$L26\",null,{\"locale\":\"ru\",\"children\":\"Русский\"}],[\"$\",\"$L26\",null,{\"locale\":\"uk\",\"children\":\"Українська\"}]]}]}]]}]]}]]}]]}],[\"$\",\"main\",null,{\"className\":\"flex flex-col w-screen h-auto items-center justify-center\",\"children\":[\"$\",\"$L8\",null,{\"parallelRouterKey\":\"children\",\"segmentPath\":[\"children\",\"$9\",\"children\"],\"error\":\"$undefined\",\"errorStyles\":\"$undefined\",\"errorScripts\":\"$undefined\",\"template\":[\"$\",\"$La\",null,{}],\"templateStyles\":\"$undefined\",\"templateScripts\":\"$undefined\",\"notFound\":\"$undefined\",\"notFoundStyles\":\"$undefined\",\"styles\":null}]}],[\"$\",\"$L27\",null,{}]]}]}]}]\n"])</script><script>self.__next_f.push([1,"c:[[\"$\",\"meta\",\"0\",{\"name\":\"viewport\",\"content\":\"width=device-width, initial-scale=1\"}],[\"$\",\"meta\",\"1\",{\"charSet\":\"utf-8\"}],[\"$\",\"title\",\"2\",{\"children\":\"Barres obliques de fin \u0026 nginx\"}],[\"$\",\"meta\",\"3\",{\"name\":\"description\",\"content\":\"Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?\"}],[\"$\",\"meta\",\"4\",{\"name\":\"application-name\",\"content\":\"Hammerill\"}],[\"$\",\"meta\",\"5\",{\"name\":\"keywords\",\"content\":\"Hammerill,Personal Website,Blog,Contact,Resume,CV,Petrov,Kyrylo,Kirill,Hamerill,Hammeril,Hameril,Hammermill,Hammerli,Hammerlil,Hammeri,Hamerli,Хаммерилл,Хаммерил,Хамерилл,Хамерил,Quoi\"}],[\"$\",\"meta\",\"6\",{\"name\":\"creator\",\"content\":\"Hammerill, PETROV Kyrylo\"}],[\"$\",\"link\",\"7\",{\"rel\":\"canonical\",\"href\":\"https://hammerill.com/fr/blog/trailing-nginx\"}],[\"$\",\"meta\",\"8\",{\"name\":\"me\",\"content\":\"contact@hammerill.com\"}],[\"$\",\"meta\",\"9\",{\"property\":\"og:title\",\"content\":\"Barres obliques de fin \u0026 nginx - Blog Hammerill\"}],[\"$\",\"meta\",\"10\",{\"property\":\"og:description\",\"content\":\"Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?\"}],[\"$\",\"meta\",\"11\",{\"property\":\"og:url\",\"content\":\"https://hammerill.com/fr/blog/trailing-nginx\"}],[\"$\",\"meta\",\"12\",{\"property\":\"og:site_name\",\"content\":\"Hammerill FR\"}],[\"$\",\"meta\",\"13\",{\"property\":\"og:image\",\"content\":\"https://hammerill.com/_next/static/media/trailing-nginx.da548878.png\"}],[\"$\",\"meta\",\"14\",{\"property\":\"og:image:width\",\"content\":\"2400\"}],[\"$\",\"meta\",\"15\",{\"property\":\"og:image:height\",\"content\":\"1260\"}],[\"$\",\"meta\",\"16\",{\"property\":\"og:image:alt\",\"content\":\"Barres obliques de fin \u0026 nginx\"}],[\"$\",\"meta\",\"17\",{\"property\":\"og:type\",\"content\":\"article\"}],[\"$\",\"meta\",\"18\",{\"property\":\"article:published_time\",\"content\":\"2024-06-05T00:00:00.000Z\"}],[\"$\",\"meta\",\"19\",{\"property\":\"article:author\",\"content\":\"Hammerill, PETROV Kyrylo\"}],[\"$\",\"meta\",\"20\",{\"name\":\"twitter:card\",\"content\":\"summary_large_image\"}],[\"$\",\"meta\",\"21\",{\"name\":\"twitter:title\",\"content\":\"Barres obliques de fin \u0026 nginx - Blog Hammerill\"}],[\"$\",\"meta\",\"22\",{\"name\":\"twitter:description\",\"content\":\"Comment rediriger les barres obliques de fin dans nginx ? Comment forcer mon URL à se terminer ou non par une barre oblique ?\"}],[\"$\",\"meta\",\"23\",{\"name\":\"twitter:image\",\"content\":\"https://hammerill.com/_next/static/media/trailing-nginx.da548878.png\"}],[\"$\",\"meta\",\"24\",{\"name\":\"twitter:image:width\",\"content\":\"2400\"}],[\"$\",\"meta\",\"25\",{\"name\":\"twitter:image:height\",\"content\":\"1260\"}],[\"$\",\"meta\",\"26\",{\"name\":\"twitter:image:alt\",\"content\":\"Barres obliques de fin \u0026 nginx\"}],[\"$\",\"link\",\"27\",{\"rel\":\"icon\",\"href\":\"/favicon.ico\",\"media\":\"(prefers-color-scheme: light)\"}],[\"$\",\"link\",\"28\",{\"rel\":\"icon\",\"href\":\"/favicon-dark.ico\",\"media\":\"(prefers-color-scheme: dark)\"}],[\"$\",\"meta\",\"29\",{\"name\":\"next-size-adjust\"}]]\n"])</script><script>self.__next_f.push([1,"6:null\n"])</script><script>self.__next_f.push([1,"28:I[4327,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"158\",\"static/chunks/158-9999b82bb93017b5.js\",\"830\",\"static/chunks/app/%5Blocale%5D/(routes)/blog/(articles)/(2024)/(06)/trailing-nginx/page-07d2263cde8d19df.js\"],\"default\"]\n29:I[1590,[\"327\",\"static/chunks/327-a9cb1efd98c66bd0.js\",\"850\",\"static/chunks/850-df9277f48c160a4e.js\",\"219\",\"static/chunks/219-bf639a9455985ab5.js\",\"448\",\"static/chunks/448-75b2e08b0ce7c9c7.js\",\"203\",\"static/chunks/app/%5Blocale%5D/layout-4a625eb03a53c940.js\"],\"DropdownMenuItem\"]\n10:[\"$\",\"$L28\",null,{\"locale\":\"fr\",\"localePrefix\":\"always\",\"href\":\"/blog\",\"className\":\"inline-flex items-center justify-center whitespace-nowrap rounded-md text-sm font-medium ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 border border-input bg-background hover:bg-accent hover:text-accent-foreground h-10 px-4 py-2 transition focus:ring-2 focus:ring-ring focus:ring-offset-2\",\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-undo2 mr-2 w-4 h-4\",\"children\":[[\"$\",\"path\",\"102s5s\",{\"d\":\"M9 14 4 9l5-5\"}],[\"$\",\"path\",\"llx8ln\",{\"d\":\"M4 9h10.5a5.5 5.5 0 0 1 5.5 5.5v0a5.5 5.5 0 0 1-5.5 5.5H11\"}],\"$undefined\"]}],\"Retour au blog\"]}]\n11:[\"$\",\"$L28\",null,{\"locale\":\"fr\",\"localePrefix\":\"always\",\"href\":\"/blog/tag/code\",\"className\":\"inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground transition h-6 border-transparent hover:border-border\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-primary/75\",\"children\":\"#\"}],\"code\"]}]\n12:[\"$\",\"$L28\",null,{\"locale\":\"fr\",\"localePrefix\":\"always\",\"href\":\"/blog/tag/tip\",\"className\":\"inline-flex items-center rounded-full border p"])</script><script>self.__next_f.push([1,"x-2.5 py-0.5 text-xs font-semibold focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 text-foreground transition h-6 border-transparent hover:border-border\",\"children\":[[\"$\",\"span\",null,{\"className\":\"text-primary/75\",\"children\":\"#\"}],\"astuce\"]}]\n1d:[\"$\",\"$L28\",null,{\"locale\":\"fr\",\"localePrefix\":\"always\",\"href\":\"/\",\"children\":[\"$\",\"$L29\",null,{\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-home mr-2 h-4 w-4\",\"children\":[[\"$\",\"path\",\"y5dka4\",{\"d\":\"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z\"}],[\"$\",\"polyline\",\"e2us08\",{\"points\":\"9 22 9 12 15 12 15 22\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Accueil\"}]]}]}]\n1e:[\"$\",\"$L28\",null,{\"locale\":\"fr\",\"localePrefix\":\"always\",\"href\":\"/blog\",\"children\":[\"$\",\"$L29\",null,{\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-rss mr-2 h-4 w-4\",\"children\":[[\"$\",\"path\",\"pv89mb\",{\"d\":\"M4 11a9 9 0 0 1 9 9\"}],[\"$\",\"path\",\"k0647b\",{\"d\":\"M4 4a16 16 0 0 1 16 16\"}],[\"$\",\"circle\",\"bfqh0e\",{\"cx\":\"5\",\"cy\":\"19\",\"r\":\"1\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Blog\"}]]}]}]\n1f:[\"$\",\"$L28\",null,{\"locale\":\"fr\",\"localePrefix\":\"always\",\"href\":\"/contact\",\"children\":[\"$\",\"$L29\",null,{\"children\":[[\"$\",\"svg\",null,{\"xmlns\":\"http://www.w3.org/2000/svg\",\"width\":24,\"height\":24,\"viewBox\":\"0 0 24 24\",\"fill\":\"none\",\"stroke\":\"currentColor\",\"strokeWidth\":2,\"strokeLinecap\":\"round\",\"strokeLinejoin\":\"round\",\"className\":\"lucide lucide-phone mr-2 h-4 w-4\",\"children\":[[\"$\",\"path\",\"foiqr5\",{\"d\":\"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1."])</script><script>self.__next_f.push([1,"27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z\"}],\"$undefined\"]}],[\"$\",\"span\",null,{\"children\":\"Contact\"}]]}]}]\n"])</script></body></html>